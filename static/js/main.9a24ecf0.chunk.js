(this["webpackJsonpe-ticket"]=this["webpackJsonpe-ticket"]||[]).push([[0],{105:function(e,t,a){e.exports=a(233)},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},20:function(e,t,a){e.exports={hints:"inpCart_hints__2nyCv",Cart:"inpCart_Cart__2g5jQ",balans:"inpCart_balans__1YjrO",travel:"inpCart_travel__CPeen",Hidden:"inpCart_Hidden__36aoD",balansInput:"inpCart_balansInput__2O_cs",balansInputWrapper:"inpCart_balansInputWrapper__3qvxm"}},233:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(103),l=a(41),i=a.n(l),s=(a(110),a(111),a(45)),u=(a(112),function(){return r.a.createElement("div",{className:"wraper"},r.a.createElement("div",{className:"wraper__header"}))}),o=a(235),m=a(234),p=(a(70),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({},e.input,{type:"text",className:"Etiket__input",id:"inp"})))}),f=a(20),g=a.n(f),E=a(24),d=a.n(E),b=(a(47),function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("img",{src:d.a,alt:""}))}),C=function(){return r.a.createElement("div",{className:"preloaderMini"},r.a.createElement("img",{src:d.a,alt:""}))},h=Object(m.a)({form:"ticket"})((function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=(l[0],l[1],Object(n.useState)(!1)),u=Object(s.a)(i,2),m=u[0],f=u[1],E=Object(n.useState)(null),d=Object(s.a)(E,2),h=d[0],v=d[1],_=function(){f(!0),m&&f(!1)},I=e.handleSubmit;return e.viewingCart?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"Etiket__text"},"Eticket"),r.a.createElement("form",{onSubmit:I},r.a.createElement("div",{className:g.a.Cart},e.Cart),m?r.a.createElement("div",{className:g.a.balansInputWrapper},r.a.createElement("input",{ref:a,min:"0",value:h,defaultValue:e.balans||h,onChange:function(e){v(e.currentTarget.value)},max:"500",onBlur:function(){h<=500&&e.PostCartAPI(h),_()},className:g.a.balansInput,type:"number"}),r.a.createElement("span",null,"UAH")):r.a.createElement("div",{onClick:_,className:g.a.balans},e.balans,r.a.createElement("span",null,"UAH")),e.isFetching&&r.a.createElement(C,null)),r.a.createElement("button",{onClick:function(){if(!(e.balans>=8))return 0;e.PutCartAPI()},className:g.a.travel},r.a.createElement("span",null,"Travel")),m&&r.a.createElement("div",{onClick:function(){return t.current.classList.toggle("hidden")},ref:t,className:"notification__Editmod"}," ",r.a.createElement("span",null,"Balance change"),"   ")):!0===e.isFetching?r.a.createElement("div",{className:g.a.loading},r.a.createElement(b,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"Etiket__text"},"Eticket"),r.a.createElement("form",{onSubmit:I},r.a.createElement(o.a,{name:"ticket",component:p}),r.a.createElement("button",{className:"Etiket__search"},r.a.createElement("span",null,"Search"))))})),v=function(e){return r.a.createElement("div",{className:"wraper_Etiket__Page"},r.a.createElement(u,null),r.a.createElement("div",{className:"wraper_Etiket"},r.a.createElement("div",{className:"Etiket"},r.a.createElement("div",{className:"Cart"},r.a.createElement("div",{className:"Hidden"},r.a.createElement("img",{src:d.a,alt:""})),r.a.createElement(h,Object.assign({},e,{onSubmit:function(t){try{var a=t.ticket.toUpperCase();e.GetCartAPI(a)}catch(n){}}}))))))},_=a(16),I=a(21),k=a.n(I),w=a(44),O=a(68),j=a(214).default,N=(localStorage.getItem("cart"),{getCartAPI:function(e){return j.get("https://apieticket.herokuapp.com/getCart?cart=".concat(e)).then((function(e){return e.data}))},putBalansCartAPI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return j.put("https://apieticket.herokuapp.com/putBalansCart",{"0436662A5F6A80":{balans:e}},{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data}))},postBalansCartAPI:function(e){return j.post("https://apieticket.herokuapp.com/postEditBalansCart",{"0436662A5F6A80":{balans:e}},{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data}))}}),P={cartID:"",balans:null,isFetching:!1,viewingCart:!1},S=function(e,t,a){return{type:"GetCartBalans",cart:e,balans:t,viewingCart:a}},A=function(e){return{type:"toggelIsFetching",IsFetching:e}},F=Object(_.b)((function(e){return{Cart:e.Cart.cartID,viewingCart:e.Cart.viewingCart,balans:e.Cart.balans,isFetching:e.Cart.isFetching}}),{GetCart:S,GetCartAPI:function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(A(!0)),t.next=3,N.getCartAPI(e);case 3:"green"===(n=t.sent).Status&&(a(S(e,n.balans,!0)),localStorage.setItem("cart",e)),a(A(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},PutCartAPI:function(){return function(){var e=Object(w.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A(!0)),e.next=3,N.putBalansCartAPI();case 3:"green"===(a=e.sent).Status&&(n=localStorage.getItem("cart"),t(S(n,a.balans,!0))),t(A(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},PostCartAPI:function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(A(!0)),t.next=3,N.postBalansCartAPI(e);case 3:n=t.sent,console.log(n),localStorage.getItem("cart"),"green"===n.Status&&(r=localStorage.getItem("cart"),a(S(r,n.balans,!0))),a(A(!1));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return r.a.createElement(v,e)})),x=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null))},y=a(6),B=a(236),D=a(102),T=Object(y.c)({Cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GetCartBalans":return{cartID:t.cart,balans:t.balans,viewingCart:!0};case"toggelIsFetching":return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.IsFetching});case"PostCartBalans":return{balans:t.balans};default:return e}},form:B.a}),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,H=Object(y.e)(T,G(Object(y.a)(D.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,null,r.a.createElement(_.a,{store:H},r.a.createElement(x,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){e.exports=a.p+"static/media/Eclipse-2.2s-200px.3ad06099.svg"},47:function(e,t,a){},70:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.9a24ecf0.chunk.js.map